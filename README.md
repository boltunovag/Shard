# –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –∫ –∑–∞–Ω—è—Ç–∏—é "`–®–∞—Ä–¥–∏–Ω–≥`" - `–ë–æ–ª—Ç—É–Ω–æ–≤ –ê–ª–µ–∫—Å–µ–π`


### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è

   1. –°–¥–µ–ª–∞–π—Ç–µ `fork` –¥–∞–Ω–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∫ —Å–µ–±–µ –≤ Github –∏ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –µ–≥–æ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –Ω–æ–º–µ—Ä—É –∑–∞–Ω—è—Ç–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, https://github.com/–∏–º—è-–≤–∞—à–µ–≥–æ-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è/git-hw –∏–ª–∏  https://github.com/–∏–º—è-–≤–∞—à–µ–≥–æ-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è/7-1-ansible-hw).
   2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∫ —Å–µ–±–µ –Ω–∞ –ü–ö —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `git clone`.
   3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –¥–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —É —Å–µ–±—è –ª–æ–∫–∞–ª—å–Ω–æ —ç—Ç–æ—Ç —Ñ–∞–π–ª README.md:
      - –≤–ø–∏—à–∏—Ç–µ –≤–≤–µ—Ä—Ö—É –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏—è –∏ –≤–∞—à—É —Ñ–∞–º–∏–ª–∏—é –∏ –∏–º—è
      - –≤ –∫–∞–∂–¥–æ–º –∑–∞–¥–∞–Ω–∏–∏ –¥–æ–±–∞–≤—å—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –≤ —Ç—Ä–µ–±—É–µ–º–æ–º –≤–∏–¥–µ (—Ç–µ–∫—Å—Ç/–∫–æ–¥/—Å–∫—Ä–∏–Ω—à–æ—Ç—ã/—Å—Å—ã–ª–∫–∞)
      - –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å [–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π "–ö–∞–∫ –≤—Å—Ç–∞–≤–∏—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç –≤ —à–∞–±–ª–æ–Ω —Å —Ä–µ—à–µ–Ω–∏–µ–º](https://github.com/netology-code/sys-pattern-homework/blob/main/screen-instruction.md)
      - –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —è–∑—ã–∫–∞ —Ä–∞–∑–º–µ—Ç–∫–∏ md (–∫–æ—Ä–æ—Ç–∫–æ –æ–± —ç—Ç–æ–º –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ [–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏  –ø–æ MarkDown](https://github.com/netology-code/sys-pattern-homework/blob/main/md-instruction.md))
   4. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –¥–æ–º–∞—à–Ω–∏–º –∑–∞–¥–∞–Ω–∏–µ–º —Å–¥–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç (`git commit -m "comment"`) –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –µ–≥–æ –Ω–∞ Github (`git push origin`);
   5. –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ –≤ –≤–∏–¥–µ md-—Ñ–∞–π–ª–∞ –≤ –≤–∞—à–µ–º Github.
   6. –õ—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –∑–∞–¥–∞–Ω–∏–π —Å–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ –≤ —á–∞—Ç–µ —É—á–µ–±–Ω–æ–π –≥—Ä—É–ø–ø—ã –∏/–∏–ª–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ ‚Äú–í–æ–ø—Ä–æ—Å—ã –ø–æ –∑–∞–¥–∞–Ω–∏—é‚Äù –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ.
   
–ñ–µ–ª–∞–µ–º —É—Å–ø–µ—Ö–æ–≤ –≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è!
   
### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è

1. [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é Markdown —Ñ–∞–π–ª–æ–≤](https://gist.github.com/Jekins/2bf2d0638163f1294637#Code)

---

### –ó–∞–¥–∞–Ω–∏–µ 1

`–ü—Ä–∏–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ —Å–≤–æ–±–æ–¥–Ω–æ–π —Ñ–æ—Ä–º–µ........`

–ê–∫—Ç–∏–≤–Ω—ã–π Master + –æ–¥–∏–Ω –ø–∞—Å—Å–∏–≤–Ω—ã–π Slave 
–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞: 
1. –ü–æ–≤—ã—à–µ–Ω–∏–µ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ 
    –ï—Å–ª–∏ master –≤—ã–π–¥–µ—Ç –∏–∑ —Å—Ç—Ä–æ—è, slave –º–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é (–∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç—ã/–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä—ã) –ø–æ–≤—ã—Å–∏—Ç—å –¥–æ –Ω–æ–≤–æ–≥–æ master‚Äô–∞.
    –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é "–Ω–∞ –≥–æ—Ä—è—á—É—é" ‚Äî –¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è (–ø—Ä–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏).
     
2. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä 
    –ë—ç–∫–∞–ø—ã –º–æ–∂–Ω–æ —Å–Ω–∏–º–∞—Ç—å —Å–æ slave‚Äô–∞ ‚Äî —ç—Ç–æ –Ω–µ –Ω–∞–≥—Ä—É–∂–∞–µ—Ç master, –Ω–µ –∑–∞–º–µ–¥–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏ –∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–∞–±–ª–∏—Ü—ã.
     
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞ 
    –ù–∞ slave –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º—ã, –∏–Ω–¥–µ–∫—Å—ã, –∑–∞–ø—Ä–æ—Å—ã ‚Äî –±–µ–∑ —Ä–∏—Å–∫–∞ –ø–æ–≤—Ä–µ–¥–∏—Ç—å production-–¥–∞–Ω–Ω—ã–µ.    

4. –ü—Ä–æ—Å—Ç–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è 
    –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –æ–¥–Ω–∏–º slave –ø—Ä–æ—â–µ –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–∏, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–µ –∏ –æ—Ç–ª–∞–¥–∫–µ ‚Äî –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –∏ —Å—Ä–µ–¥–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.
    
Master + –Ω–µ—Å–∫–æ–ª—å–∫–æ Slave-—Å–µ—Ä–≤–µ—Ä–æ–≤ 
–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞: 
1. –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —á—Ç–µ–Ω–∏—è 
    –ú–æ–∂–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É —á—Ç–µ–Ω–∏—è –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ slave-—Å–µ—Ä–≤–µ—Ä–∞–º–∏.
    –ù–∞–ø—Ä–∏–º–µ—Ä: 90% –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Äî SELECT ‚Üí –Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –∏—Ö –Ω–∞ 3-5 slave‚Äô–æ–≤ ‚Üí master –æ—Å—Ç–∞—ë—Ç—Å—è —Å–≤–æ–±–æ–¥–µ–Ω –¥–ª—è –∑–∞–ø–∏—Å–∏ ‚Üí –æ–±—â–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã —Ä–∞—Å—Ç—ë—Ç.
     
2. –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ 
    Slave‚Äô—ã –º–æ–∂–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö –¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä–∞—Ö –∏–ª–∏ —Ä–µ–≥–∏–æ–Ω–∞—Ö:
        –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤ –ï–≤—Ä–æ–ø–µ —á–∏—Ç–∞—é—Ç –∏–∑ –µ–≤—Ä–æ–ø–µ–π—Å–∫–æ–≥–æ slave.
        –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤ –ê–∑–∏–∏ ‚Äî –∏–∑ –∞–∑–∏–∞—Ç—Å–∫–æ–≥–æ.
        –≠—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç latency –∏ —É–ª—É—á—à–∞–µ—Ç UX.        
    
3. –ü–æ–≤—ã—à–µ–Ω–Ω–∞—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å 
    –ï—Å–ª–∏ –æ–¥–∏–Ω slave —É–ø–∞–¥—ë—Ç ‚Äî –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.
    –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–æ–π slave –ø—Ä–∏ –∞–≤–∞—Ä–∏–∏.
    
4. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ slave‚Äô—ã 
    –û–¥–∏–Ω slave ‚Äî –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (—Ç—è–∂—ë–ª—ã–µ –∑–∞–ø—Ä–æ—Å—ã).
    –í—Ç–æ—Ä–æ–π ‚Äî –¥–ª—è API –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–ª—ë–≥–∫–∏–µ SELECT).
    –¢—Ä–µ—Ç–∏–π ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è –±—ç–∫–∞–ø–æ–≤.
    –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã –ø–æ–¥ –∑–∞–¥–∞—á–∏.
    
5. –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ 
    –û–¥–∏–Ω –∏–∑ slave‚Äô–æ–≤ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ä–µ—Å—É—Ä—Å–æ—ë–º–∫–∏—Ö –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –Ω–µ –≤–ª–∏—è—è –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é —Å–∏—Å—Ç–µ–º—É.
     

---

### –ó–∞–¥–∞–Ω–∏–µ 2

–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —à–∞—Ä–¥–∏–Ω–≥ 


–†–∞–∑–¥–µ–ª–∏–º —Å–∏—Å—Ç–µ–º—É –Ω–∞ —Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∑–æ–Ω—ã, –∫–∞–∂–¥–∞—è —Å–æ —Å–≤–æ–µ–π –ë–î –∏ —Å–µ—Ä–≤–µ—Ä–æ–º: 

<table border="1" cellpadding="8" cellspacing="0" style="border-collapse: collapse; font-family: Arial, sans-serif;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th style="text-align: left; padding: 8px;">–°–µ—Ä–≤–µ—Ä</th>
      <th style="text-align: left; padding: 8px;">–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</th>
      <th style="text-align: left; padding: 8px;">–¢–∞–±–ª–∏—Ü—ã</th>
      <th style="text-align: left; padding: 8px;">–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ</th>
      <th style="text-align: left; padding: 8px;">–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="padding: 8px;">Auth/User Server</td>
      <td style="padding: 8px;">user_db</td>
      <td style="padding: 8px;">–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</td>
      <td style="padding: 8px;">–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –ø—Ä–æ—Ñ–∏–ª–∏, –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è</td>
      <td style="padding: 8px;">Master + Read Replicas (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å —á—Ç–µ–Ω–∏–µ)</td>
    </tr>
    <tr>
      <td style="padding: 8px;">Catalog Server</td>
      <td style="padding: 8px;">catalog_db</td>
      <td style="padding: 8px;">–∫–Ω–∏–≥–∏</td>
      <td style="padding: 8px;">–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤, –ø–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è</td>
      <td style="padding: 8px;">Master + –Ω–µ—Å–∫–æ–ª—å–∫–æ Slaves (—á—Ç–µ–Ω–∏–µ —Å–∏–ª—å–Ω–æ –Ω–∞–≥—Ä—É–∂–µ–Ω–æ)</td>
    </tr>
    <tr>
      <td style="padding: 8px;">Stores Server</td>
      <td style="padding: 8px;">stores_db</td>
      <td style="padding: 8px;">–º–∞–≥–∞–∑–∏–Ω—ã</td>
      <td style="padding: 8px;">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ—á–∫–∞—Ö –ø—Ä–æ–¥–∞–∂, –ª–æ–∫–∞—Ü–∏–∏</td>
      <td style="padding: 8px;">Master (–º–æ–∂–Ω–æ —Å 1 Slave –¥–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏)</td>
    </tr>
  </tbody>
</table> 

    –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–µ—Ä –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç —Å–≤–æ—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É ‚Üí –ø—Ä–æ—â–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å, –æ–±–Ω–æ–≤–ª—è—Ç—å, –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å.
    –°–Ω–∏–∂–∞–µ—Ç—Å—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è –∑–∞ —Ä–µ—Å—É—Ä—Å—ã: –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –∫–Ω–∏–≥–∏ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é.
    –ü—Ä–æ—â–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é –∏ –±—ç–∫–∞–ø—ã –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É.
     

 
–ß–∞—Å—Ç—å 2: –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —à–∞—Ä–¥–∏–Ω–≥ (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫) 

     

 
üîπ –ü—Ä–∏–º–µ—Ä 1: –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —à–∞—Ä–¥–∏–Ω–≥ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ 

–ö–ª—é—á —à–∞—Ä–¥–∏–Ω–≥–∞: user_id –∏–ª–∏ region 

–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ user_id % N –∏–ª–∏ –ø–æ —Ä–µ–≥–∏–æ–Ω—É. 

<table border="1" cellpadding="8" cellspacing="0" style="border-collapse: collapse; font-family: Arial, sans-serif; margin-top: 20px;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th style="text-align: left; padding: 8px;">–®–∞—Ä–¥</th>
      <th style="text-align: left; padding: 8px;">–î–∏–∞–ø–∞–∑–æ–Ω user_id (mod 4)</th>
      <th style="text-align: left; padding: 8px;">–°–µ—Ä–≤–µ—Ä</th>
      <th style="text-align: left; padding: 8px;">–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="padding: 8px;">Shard 0</td>
      <td style="padding: 8px;">user_id % 4 == 0</td>
      <td style="padding: 8px;">user-shard-0</td>
      <td style="padding: 8px;">user_db_shard_0</td>
    </tr>
    <tr>
      <td style="padding: 8px;">Shard 1</td>
      <td style="padding: 8px;">user_id % 4 == 1</td>
      <td style="padding: 8px;">user-shard-1</td>
      <td style="padding: 8px;">user_db_shard_1</td>
    </tr>
    <tr>
      <td style="padding: 8px;">Shard 2</td>
      <td style="padding: 8px;">user_id % 4 == 2</td>
      <td style="padding: 8px;">user-shard-2</td>
      <td style="padding: 8px;">user_db_shard_2</td>
    </tr>
    <tr>
      <td style="padding: 8px;">Shard 3</td>
      <td style="padding: 8px;">user_id % 4 == 3</td>
      <td style="padding: 8px;">user-shard-3</td>
      <td style="padding: 8px;">user_db_shard_3</td>
    </tr>
  </tbody>
</table>
	
   

–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —à–∞—Ä–¥–∏–Ω–≥ –¥–ª—è –º–∞–≥–∞–∑–∏–Ω—ã 

–ö–ª—é—á —à–∞—Ä–¥–∏–Ω–≥–∞: region (–≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π) 
<table border="1" cellpadding="8" cellspacing="0" style="border-collapse: collapse; font-family: Arial, sans-serif; margin-top: 20px;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th style="text-align: left; padding: 8px;">–†–µ–≥–∏–æ–Ω</th>
      <th style="text-align: left; padding: 8px;">–°–µ—Ä–≤–µ—Ä</th>
      <th style="text-align: left; padding: 8px;">–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="padding: 8px;">–ï–≤—Ä–æ–ø–∞</td>
      <td style="padding: 8px;">stores-eu</td>
      <td style="padding: 8px;">stores_db_eu</td>
    </tr>
    <tr>
      <td style="padding: 8px;">–ê–∑–∏—è</td>
      <td style="padding: 8px;">stores-asia</td>
      <td style="padding: 8px;">stores_db_asia</td>
    </tr>
    <tr>
      <td style="padding: 8px;">–°–µ–≤. –ê–º–µ—Ä–∏–∫–∞</td>
      <td style="padding: 8px;">stores-us</td>
      <td style="padding: 8px;">stores_db_us</td>
    </tr>
    <tr>
      <td style="padding: 8px;">–õ–∞—Ç. –ê–º–µ—Ä–∏–∫–∞</td>
      <td style="padding: 8px;">stores-latam</td>
      <td style="padding: 8px;">stores_db_latam</td>
    </tr>
  </tbody>
</table>
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–∑ –ï–≤—Ä–æ–ø—ã –≤–∏–¥—è—Ç –º–∞–≥–∞–∑–∏–Ω—ã –∏–∑ stores_db_eu ‚Äî –Ω–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞, –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è. 

–ï—Å–ª–∏ –ø–æ–∑–∂–µ –¥–æ–±–∞–≤–∏—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ –∑–∞–∫–∞–∑—ã, –µ—ë –º–æ–∂–Ω–æ —à–∞—Ä–¥–∏—Ä–æ–≤–∞—Ç—å –ø–æ user_id, —á—Ç–æ–±—ã –æ–Ω–∞ –ª–µ–∂–∞–ª–∞ –Ω–∞ —Ç–æ–º –∂–µ —à–∞—Ä–¥–µ, —á—Ç–æ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Äî —ç—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –∏ –∏–∑–±–µ–∂–∏—Ç cross-shard JOIN‚Äô–æ–≤. 
 
–†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–æ–≤ 
<table border="1" cellpadding="8" cellspacing="0" style="border-collapse: collapse; font-family: Arial, sans-serif; margin-top: 20px;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th style="text-align: left; padding: 8px;">–°–µ—Ä–≤–µ—Ä</th>
      <th style="text-align: left; padding: 8px;">–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</th>
      <th style="text-align: left; padding: 8px;">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="padding: 8px;">user-shard-0..3</td>
      <td style="padding: 8px;">Master (–∑–∞–ø–∏—Å—å + —á—Ç–µ–Ω–∏–µ)</td>
      <td style="padding: 8px;">–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å read-replicas, –µ—Å–ª–∏ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ –≤—ã—Å–æ–∫–∞—è</td>
    </tr>
    <tr>
      <td style="padding: 8px;">catalog_db —Å–µ—Ä–≤–µ—Ä</td>
      <td style="padding: 8px;">Master + –Ω–µ—Å–∫–æ–ª—å–∫–æ Slaves</td>
      <td style="padding: 8px;">–ö–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥ ‚Äî –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —á—Ç–µ–Ω–∏–µ ‚Üí –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º —á—Ç–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ä–µ–ø–ª–∏–∫–∏</td>
    </tr>
    <tr>
      <td style="padding: 8px;">stores_db —Å–µ—Ä–≤–µ—Ä—ã</td>
      <td style="padding: 8px;">Master (–∏–ª–∏ Master + 1 Slave)</td>
      <td style="padding: 8px;">–û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ–¥–∫–∏–µ ‚Üí –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–¥–Ω–æ–≥–æ Slave –¥–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏</td>
    </tr>
  </tbody>
</table> 
 
 
–ë–ª–æ–∫-—Å—Ö–µ–º–∞ —Å–∏—Å—Ç–µ–º—ã 
 
![–ë–ª–æ–∫-—Å—Ö–µ–º–∞](screenshots/s1.png)
 
   

–ü—Ä–∏–Ω—Ü–∏–ø—ã –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∏ —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è 

    –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —à–∞—Ä–¥–∏–Ω–≥) ‚Äî —Ä–∞–∑–¥–µ–ª—è–µ–º –ø–æ –±–∏–∑–Ω–µ—Å-–¥–æ–º–µ–Ω–∞–º: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∫–∞—Ç–∞–ª–æ–≥, –º–∞–≥–∞–∑–∏–Ω—ã.
    –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –∫–ª—é—á—É ‚Äî —à–∞—Ä–¥–∏—Ä—É–µ–º –±–æ–ª—å—à–∏–µ —Ç–∞–±–ª–∏—Ü—ã (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –º–∞–≥–∞–∑–∏–Ω—ã) –ø–æ ID –∏–ª–∏ —Ä–µ–≥–∏–æ–Ω—É.
    –õ–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö ‚Äî —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ –µ–≥–æ –∑–∞–∫–∞–∑—ã) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞ –æ–¥–Ω–æ–º —à–∞—Ä–¥–µ.
    –ò–∑–±–µ–≥–∞–Ω–∏–µ cross-shard JOIN‚Äô–æ–≤ ‚Äî –ø—Ä–æ–µ–∫—Ç–∏—Ä—É–µ–º —Ç–∞–∫, —á—Ç–æ–±—ã –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–≥–æ —à–∞—Ä–¥–∞.
    –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏/—Ä–æ—É—Ç–µ—Ä–∞ ‚Äî –¥–ª—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, –∫ –∫–∞–∫–æ–º—É —à–∞—Ä–¥—É –∏–¥—Ç–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª—é—á–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, user_id).
     
---

